{% extends "base.html" %}
{% load static %}
{% block contenido %}
<!-- Contenedor principal del registro con video de fondo -->
<div class="login-page-wrapper">
    <div class="form-container-with-video">
        <!-- Video de fondo detrás del formulario -->
        <div class="form-video-background">
            <video class="form-background-video" autoplay muted loop playsinline>
                <source src="{% static 'gif/Forneria.mp4' %}" type="video/mp4">
                Tu navegador no soporta videos HTML5.
            </video>
            <!-- Overlay oscuro sobre el video -->
            <div class="form-video-overlay"></div>
        </div>
        
        <!-- Formulario de registro (delante del video) -->
        <div class="form-container">
            <h2>Crear una cuenta</h2>

            <!-- Bloque de errores apilados (arriba del formulario) -->
            {% if form.errors %}
            <div class="form-errors">
                <strong>Corrige los siguientes campos:</strong>
                <ul>
                    {% for field in form %}
                        {% for error in field.errors %}
                            <li>{{ field.label }}: {{ error }}</li>
                        {% endfor %}
                    {% endfor %}
                    {% for error in form.non_field_errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                </ul>
            </div>
            {% endif %}

            <form method="post">
                {% csrf_token %}
                {{ form.as_p }}
                <button type="submit" class="submit-button">Registrarse</button>
            </form>
            <div class="form-link">
                <p>¿Ya tienes una cuenta? <a href="{% url 'login'%}">Inicia sesión aquí</a></p>
            </div>
        </div>
    </div>
</div>
{% endblock %}
